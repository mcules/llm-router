unload_policies:
  defaults:
    pinned: false
    idle_ttl_seconds: 1200         # 20 min
    min_residency_seconds: 180     # 3 min
    unload_priority: 50           # higher => unload earlier under pressure
    max_waiting_requests: 200     # per-model waiting queue limit
    max_wait_seconds: 180         # how long requests may wait for loading

  # Optional: group rules (evaluated in order)
  rules:
    - match_prefix: "embed-"
      pinned: true
    - match_regex: "^qwen3-.*-32b"
      idle_ttl_seconds: 3600
      unload_priority: 80

  # Exact per-model overrides
  models:
    "gpt-oss-20b-mxfp4":
      idle_ttl_seconds: 7200
      min_residency_seconds: 600
      unload_priority: 10

    "deepseek-coder-33b-instruct":
      idle_ttl_seconds: 900
      unload_priority: 90

    "ministral3-14b-instruct":
      pinned: true
